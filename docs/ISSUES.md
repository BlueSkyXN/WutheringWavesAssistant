# å‘ç°çš„ç¨‹åºé—®é¢˜

æœ¬æ–‡æ¡£è®°å½•ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­å‘ç°çš„ç¨‹åºé—®é¢˜ï¼ŒåŒ…æ‹¬ Bugã€æ½œåœ¨é£é™©å’Œæ”¹è¿›å»ºè®®ã€‚

---

## âœ… å·²ä¿®å¤çš„ Bug (v3.1.0 Alpha)

### 1. [å·²ä¿®å¤] è«å® (Mornye) `rest_mass_energy_count` æ–¹æ³•è°ƒç”¨é”™è¯¯

**æ–‡ä»¶**: `src/core/combat/resonator/mornye.py` ç¬¬ 126 è¡Œ

**ä¿®å¤çŠ¶æ€**: âœ… å·²åœ¨ commit 1100d78 ä¸­ä¿®å¤

**é—®é¢˜**: å¯¹åˆ—è¡¨å¯¹è±¡è°ƒç”¨äº† `.check()` æ–¹æ³•ï¼Œè€Œä¸æ˜¯å¯¹æ£€æµ‹å™¨å¯¹è±¡è°ƒç”¨ã€‚

```python
# é”™è¯¯ä»£ç 
if self._rest_mass_energy_80_point.check(img):   # â† _point æ˜¯åˆ—è¡¨ï¼Œæ²¡æœ‰ check æ–¹æ³•

# ä¿®å¤å
if self._rest_mass_energy_80_checker.check(img):  # â† ä½¿ç”¨ _checker
```

**å½±å“**: è°ƒç”¨ `rest_mass_energy_count()` æ—¶ä¼šæŠ›å‡º `AttributeError`ï¼Œå¯¼è‡´è«å®è§’è‰²åœ¨æ£€æµ‹é™è´¨é‡èƒ½æ—¶å´©æºƒã€‚

**ä¸¥é‡ç¨‹åº¦**: ğŸ”´ é«˜ - è¿è¡Œæ—¶é”™è¯¯

---

### 2. [å·²ä¿®å¤] å¡æå¸Œå¨… (Cartethyia) `is_resonance_skill_fleurdelys_2_ready` ä½¿ç”¨é”™è¯¯çš„ checker

**æ–‡ä»¶**: `src/core/combat/resonator/cartethyia.py` ç¬¬ 154 è¡Œ

**ä¿®å¤çŠ¶æ€**: âœ… å·²åœ¨ commit 1100d78 ä¸­ä¿®å¤

**é—®é¢˜**: `is_resonance_skill_fleurdelys_2_ready` æ–¹æ³•æ£€æŸ¥çš„æ˜¯ E1 çš„ checker è€Œä¸æ˜¯ E2 çš„ checkerã€‚

```python
# é”™è¯¯ä»£ç 
def is_resonance_skill_fleurdelys_2_ready(self, img: np.ndarray) -> bool:
    is_ready = self._resonance_skill_fleurdelys_checker.check(img)  # â† ç”¨äº†E1çš„checker
    logger.debug(f"èŠ™éœ²å¾·è‰æ–¯-å…±é¸£æŠ€èƒ½ E2: {is_ready}")

# ä¿®å¤å
def is_resonance_skill_fleurdelys_2_ready(self, img: np.ndarray) -> bool:
    is_ready = self._resonance_skill_fleurdelys_2_checker.check(img)  # â† ä½¿ç”¨E2çš„checker
    logger.debug(f"èŠ™éœ²å¾·è‰æ–¯-å…±é¸£æŠ€èƒ½ E2: {is_ready}")
```

**å½±å“**: E2 æŠ€èƒ½çš„å°±ç»ªçŠ¶æ€æ£€æµ‹å§‹ç»ˆè¿”å›ä¸ E1 ç›¸åŒçš„ç»“æœï¼Œæ— æ³•æ­£ç¡®åŒºåˆ†ä¸¤ä¸ªæŠ€èƒ½çŠ¶æ€ã€‚

**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¡ ä¸­ - é€»è¾‘é”™è¯¯

---

### 3. [å·²ä¿®å¤] å¡æå¸Œå¨… (Cartethyia) `fleurdelys_to_avatar_cartethyia_Ra3` æ—¥å¿—åç§°é”™è¯¯

**æ–‡ä»¶**: `src/core/combat/resonator/cartethyia.py` ç¬¬ 718 è¡Œ

**ä¿®å¤çŠ¶æ€**: âœ… å·²åœ¨ commit 1100d78 ä¸­ä¿®å¤

**é—®é¢˜**: æ–¹æ³•åæ˜¯ `fleurdelys_to_avatar_cartethyia_Ra3`ï¼ˆå¤§å¡åˆ‡å°å¡ï¼‰ï¼Œä½†æ—¥å¿—è¾“å‡ºçš„åç§°æ˜¯ `avatar_cartethyia_to_fleurdelys_Ra3`ï¼ˆå°å¡åˆ‡å¤§å¡ï¼‰ï¼Œæ–¹å‘å®Œå…¨ç›¸åã€‚

```python
# é”™è¯¯ä»£ç 
def fleurdelys_to_avatar_cartethyia_Ra3(self):
    logger.debug("avatar_cartethyia_to_fleurdelys_Ra3")  # â† æ—¥å¿—åç§°åäº†

# ä¿®å¤å
def fleurdelys_to_avatar_cartethyia_Ra3(self):
    logger.debug("fleurdelys_to_avatar_cartethyia_Ra3")  # â† åç§°æ­£ç¡®
```

**å½±å“**: è°ƒè¯•æ—¶æ—¥å¿—ä¿¡æ¯è¯¯å¯¼ï¼Œä¸å½±å“è¿è¡Œæ—¶åŠŸèƒ½ã€‚

**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¢ ä½ - ä»…å½±å“è°ƒè¯•

---

## âš ï¸ æ½œåœ¨é£é™©ç‚¹

### 1. è«å® (Mornye) `energy_count` ä½¿ç”¨æœªå®ç°çš„ `BaseResonator.energy_count`

`Mornye` ç±»çš„ `combo()` æ–¹æ³•åœ¨ç¬¬ 386 è¡Œè°ƒç”¨äº† `self.energy_count(img)`ï¼Œä½† `Mornye` æ²¡æœ‰é‡å†™ `energy_count()` æ–¹æ³•ï¼Œè€Œ `BaseMornye` ä¸­çš„ `rest_mass_energy_count()` æ‰æ˜¯æ­£ç¡®çš„èƒ½é‡æ£€æµ‹æ–¹æ³•ã€‚è¿™é‡Œè°ƒç”¨çš„æ˜¯ `BaseResonator` ä¸­çš„é»˜è®¤å®ç°ï¼Œå¯èƒ½è¿”å›ä¸æ­£ç¡®çš„ç»“æœã€‚

### 2. ç¡¬ç¼–ç åƒç´ åæ ‡

æ‰€æœ‰è§’è‰²çš„æŠ€èƒ½æ£€æµ‹åæ ‡å’Œé¢œè‰²å€¼éƒ½æ˜¯åŸºäº 1280Ã—720 åˆ†è¾¨ç‡ç¡¬ç¼–ç çš„ã€‚è™½ç„¶ `DynamicPointTransformer` æä¾›äº†åˆ†è¾¨ç‡é€‚é…ï¼Œä½†é¢œè‰²å€¼åœ¨ä¸åŒæ˜¾ç¤ºè®¾ç½®ï¼ˆHDRã€è‰²å½©é…ç½®ã€æ˜¾å¡æ»¤é•œï¼‰ä¸‹å¯èƒ½ä¸åŒ¹é…ã€‚

### 3. å¤ç©º (Ciaccona) å”±æ­ŒçŠ¶æ€è¶…æ—¶ç¡¬ç¼–ç 

`Ciaccona._singing_timeout_seconds = 34.5` è¿™ä¸ªè¶…æ—¶æ—¶é—´æ˜¯ç¡¬ç¼–ç çš„ã€‚å¦‚æœæ¸¸æˆç‰ˆæœ¬æ›´æ–°æ”¹å˜äº†å¤§æ‹›æŒç»­æ—¶é—´ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä»£ç ã€‚

---

## ğŸ’¡ æ”¹è¿›å»ºè®®

### 1. è¿æ‹›ä¸­æ–­æ¢å¤æœºåˆ¶

å½“å‰è¿æ‹›è¢«æ‰“æ–­åï¼Œéƒ¨åˆ†è§’è‰²ä¼šè¿›å…¥"å‘å‘†"çŠ¶æ€ï¼ˆç­‰å¾…æ—¶é—´æœªæ¶ˆè€—å®Œï¼‰ã€‚è™½ç„¶å·²é€šè¿‡æ‹†åˆ†é•¿ç­‰å¾…æ—¶é—´æ¥ç¼“è§£ï¼Œä½†å¯ä»¥è€ƒè™‘å¢åŠ å…¨å±€çš„æ‰“æ–­æ£€æµ‹å’Œæ¢å¤æœºåˆ¶ã€‚

### 2. å£°éª¸æŠ€èƒ½éšæœºç­–ç•¥

å¤šä¸ªè§’è‰²ï¼ˆå¦‚é•¿ç¦»ã€å®‰å¯ï¼‰æœ‰æ¢¦é­‡æ‘©æ‰˜å’Œæ™®é€šæ‘©æ‰˜çš„éšæœºé€‰æ‹©é€»è¾‘ï¼Œä½†éšæœºæ¯”ä¾‹ä¸åŒï¼ˆ0.33 vs 0.5ï¼‰ï¼Œå»ºè®®ç»Ÿä¸€æˆ–ä½¿é…ç½®å¯è°ƒã€‚

### 3. å¼—æ´›æ´› (Phrolova) ä½¿ç”¨é€šç”¨è¿æ‹›

å¼—æ´›æ´›ç»§æ‰¿äº† `GenericResonator` è€Œä¸æ˜¯ `BasePhrolova`ï¼Œä½¿ç”¨çš„æ˜¯é€šç”¨æ™®æ”»è¿æ‹›ï¼Œæœªåˆ©ç”¨è§’è‰²ç‰¹æœ‰çš„æŠ€èƒ½æ£€æµ‹èƒ½åŠ›ã€‚åç»­å¯åŸºäº `BasePhrolova` å®ç°å®šåˆ¶è¿æ‹›ã€‚

---

*æœ€åæ›´æ–°: 2026-02-07*
